#!/bin/bash

echo -e "\033[1;37m" #console rengi mora döndü

echo " █████╗ ███████╗████████╗██████╗  ██████╗ ███╗   ██╗ ██████╗ ██████╗ ███████╗███████╗";
echo "██╔══██╗██╔════╝╚══██╔══╝██╔══██╗██╔═══██╗████╗  ██║██╔═══██╗██╔══██╗██╔════╝██╔════╝";
echo "███████║███████╗   ██║   ██████╔╝██║   ██║██╔██╗ ██║██║   ██║██║  ██║█████╗  ███████╗";
echo "██╔══██║╚════██║   ██║   ██╔══██╗██║   ██║██║╚██╗██║██║   ██║██║  ██║██╔══╝  ╚════██║";
echo "██║  ██║███████║   ██║   ██║  ██║╚██████╔╝██║ ╚████║╚██████╔╝██████╔╝███████╗███████║";
echo "╚═╝  ╚═╝╚══════╝   ╚═╝   ╚═╝  ╚═╝ ╚═════╝ ╚═╝  ╚═══╝ ╚═════╝ ╚═════╝ ╚══════╝╚══════╝";
echo "";

echo  -e "\e[0m" #console rengi resetlendi

TARGET="8.8.8.8"
LOGFILE="/var/log/ping_logger.log"

touch "$LOGFILE"

while true; do
  {
    echo "====== $(date '+%Y-%m-%d %H:%M:%S') ======"
    ping -c 4 "$TARGET" | tail -n 3
    echo
  } >> "$LOGFILE"

  sleep 20
done
